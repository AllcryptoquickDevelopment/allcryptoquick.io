$scroll-line: 1.9rem;

#intro.market-page {
  @include break(m) { padding-bottom: 6rem; }
  .header-title {
    max-width: 50rem;
  }

  // vertically scrolling text in page title
  .scroller {
    text-align: center; font-weight: 500; line-height: ($scroll-line - 0.02rem);
    overflow: hidden;
    position: relative; top: 0.55rem;
    display: block; height: $scroll-line;
    @include break(m) {
      display: inline-block; margin-left: 0.8rem;
      text-align: left;
    }
    .scrolling {
      position: relative;
      animation: text-scroller 10s; animation-iteration-count: infinite;
      margin: 0;
    }
    &.market {
      .ico { margin-right: 0.6rem; }
      .ico-anon,
      .ico-cog { color: $tertiary; }
      .ico-lock,
      .ico-smiley { color: $secondary; }
      .ico-stake,
      .ico-thumb-up { color: $primary; }
    }
  }

  // intro buttons
  .intro-buttons {
    .button {
      margin-bottom: 0.5rem;
      & + .button { margin-bottom: 0; }
    }
  }

  // video
  .video-wrap {
    max-width: 60rem; margin: 4rem auto 0;
    box-shadow: 0 2px 10px $bg-muted;
    .window-titlebar {
      @include gradient(darken($bg-muted, 4%), darken($bg-muted, 10%));
      font-size: 0.8rem; text-align: center; font-weight: 500;
      text-transform: uppercase; color: rgba($text-muted, 0.6);
      padding: 0.25rem 1rem;
      border-top-left-radius: ($border-radius * 2); border-top-right-radius: ($border-radius * 2);
    }
    .video-container {
      margin: 0;
    }
  }

}


section {

  // about MP
  &.about-market {
    padding: 3rem 0;
    background: $black;
    position: relative;
    .arrow {
      border: 1rem solid transparent; border-bottom-color: $black;
      width: 0; height: 0;
      position: absolute; top: -2rem;
      left: 50%; transform: translateX(-50%)
    }
    .illustration {
      display: none;
      @include break(l) {
        display: block; float: left; width: 40%;
        margin: -3rem 0 -6rem; padding: 0 3rem 0 0;
      }
      @include break(xl) { margin: -4.5rem 0 -6rem; }
      img { pointer-events: none; }
    }
    .text {
      @include break(l) {
        width: 60%;
      }
    }
    .title {
      color: $color; font-size: 1rem; text-transform: uppercase;
      font-weight: 500; letter-spacing: 0; line-height: 1.4;
      margin: 0 0 1.2rem;
    }
    p {
      color: $white; font-size: 0.813rem; line-height: 1.77;
      margin: 0.5rem 0;
    }
  }

  // MP features
  &.market-features {
    text-align: center;
    @include break(large) { text-align: left; }
    .section-title {
      margin: 0 0 1rem; text-align: center;
      @include break(l) { margin: 0 0 2rem; }
    }
    .feature {
      padding: 2rem 0;
      @include break(large) { padding: 4rem 0; }
      .illustration {
        margin-bottom: 1rem;
        @include break(large) { margin: 0; }
        img {
          width: 100%; max-width: 20rem; margin: 1rem auto; display: block;
          @include break(large) { width: 70%; max-width: none; }
          @include break(l) { margin: 0 auto; }
        }
      }
      .text {
        .title {
          margin: 0;
        }
        .tag {
          font-size: 50%; text-transform: uppercase; line-height: 1.1rem;
          font-weight: 500; letter-spacing: 0; color: white;
          background: $secondary; border-radius: 4px;
          display: inline-block; padding: 0 0.4rem; margin-left: 0.4rem;
          position: relative; top: -3px;
        }
      }
    }
  }

  // Buyer/seller blocks
  &.buyer-seller {
    background: rgba($bg-muted, 0.3);
    padding-bottom: 0;
    .section-title {
      text-align: center; font-weight: 400; line-height: 1.5; color: $text-muted;
      strong { display: block; font-weight: 700; color: $text; }
    }
    .buyer,
    .seller {
      @extend %tfx;
      color: $white; font-weight: 700; font-size: 1.2rem;
      padding: 2rem 2.5rem;
      position: relative;
      &:hover {
        .arrow { right: 2.2rem; border-color: rgba($white, 0.6); }
      }
      @include break(large) { padding: 3.5rem 4rem; font-size: 1.3rem; }
      .arrow {
        @extend %tfx;
        width: 1.2rem; height: 1.2rem;
        border-top: 3px solid rgba($white, 0.4); border-right: 3px solid rgba($white, 0.4);
        transform: rotate(45deg); position: absolute; right: 2.5rem; top: 2.1rem;
        @include break(large) { top: 3.6rem; }
      }
    }
    .buyer {
      background: url("/assets/img/market/buyer-bg.jpg") no-repeat $color; background-size: cover;
      &:hover, &:focus {
        //background: darken($color, 3%);
        .arrow {
          @include break(large) { left: 2.2rem; }
        }
      }
      @include break(large) { text-align: right; }
      .arrow {
        @include break(large) {
          right: auto; left: 2.5rem;
          transform: rotate(-135deg);
        }
      }
    }
    .seller {
      background: url("/assets/img/market/seller-bg.jpg") no-repeat $secondary; background-size: cover;
      //&:hover, &:focus { background: darken($secondary, 5%); }
      @include break(large) { text-align: left; }
    }
  }

}


@keyframes text-scroller {
  0% { top: 0; }
  10% { top: 0; }
  17% { top: -($scroll-line); }
  27% { top: -($scroll-line); }
  33% { top: -($scroll-line * 2); }
  43% { top: -($scroll-line * 2); }
  50% { top: -($scroll-line * 3); }
  60% { top: -($scroll-line * 3); }
  66% { top: -($scroll-line * 4); }
  76% { top: -($scroll-line * 4); }
  83% { top: -($scroll-line * 5); }
  93% { top: -($scroll-line * 5); }
  99% { top: 0; }
}
